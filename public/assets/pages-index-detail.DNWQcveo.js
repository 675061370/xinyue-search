import{v as a,r as e,x as t,y as s,z as o,a as l,b as n,c,w as i,i as d,o as r,d as u,e as f,t as g,f as _,g as p,h as m,j as h,m as y,p as k,I as C}from"./index-bFszJRU6.js";import{_ as b,H as x,F as w,r as B,a as v}from"./footer.BS9rMale.js";const V=b({components:{Header:x,Footer:w},data:()=>({keyword:"",info:{},id:0,loading:!1,category_id:"",category:[{value:"",text:"全部"}]}),onLoad(a){this.getClass(),a.id&&(this.id=a.id,this.getData())},computed:{config(){return this.$store.state.config}},methods:{searchBtn(){a({url:"/pages/index/list?category_id="+this.category_id+"&keyword="+encodeURIComponent(this.keyword)})},getData(){this.loading=!0,e({url:uni.baseURL+"api/search/getDetail",data:{id:this.id},success:a=>{200==a.data.code?this.info=a.data.data:t({title:a.data.message,icon:"none"})},complete:()=>{this.loading=!1}})},setClipboard(a){s({data:a})},goLink(a){window.open(a,"_blank")},goShare(a){var e=window.location.href;let t="「"+a.title+"」由"+this.config.app_name+"提供网盘分享链接："+e;this.setClipboard(t)},goBack(){o()},getClass(){let a=[{value:"",text:"全部"}];e({url:uni.baseURL+"api/search/getCategory",success:e=>{let t=e.data.data||[];for(let s of t)a.push({value:s.source_category_id,text:s.name});this.category=a}})}}},[["render",function(a,e,t,s,o,b){const x=l("Header"),w=y,V=k,L=d,U=B(n("uni-data-select"),v),F=C,j=l("Footer");return r(),c(L,{class:"view"},{default:i((()=>[u(x),u(L,{class:"homeBox"},{default:i((()=>[u(L,{class:"logoBox"},{default:i((()=>[u(w,{class:"logo",src:b.config.logo},null,8,["src"]),u(V,{class:"title"},{default:i((()=>[f(g(b.config.app_name),1)])),_:1})])),_:1}),u(L,{class:"subTitle"},{default:i((()=>[f(g(b.config.app_description),1)])),_:1}),u(L,{class:_(["search",o.category.length>2?"":"noSelect"])},{default:i((()=>[u(U,{class:"selectBox",modelValue:o.category_id,"onUpdate:modelValue":e[0]||(e[0]=a=>o.category_id=a),localdata:o.category,clear:!1},null,8,["modelValue","localdata"]),p("i",{class:"iconfont icon-sousuo",onClick:e[1]||(e[1]=(...a)=>b.searchBtn&&b.searchBtn(...a))}),u(F,{type:"text",modelValue:o.keyword,"onUpdate:modelValue":e[2]||(e[2]=a=>o.keyword=a),placeholder:"输入关键字进行搜索",onKeyup:m(b.searchBtn,["enter"]),"confirm-type":"search",onConfirm:b.searchBtn},null,8,["modelValue","onKeyup","onConfirm"])])),_:1},8,["class"]),u(L,{class:"content"},{default:i((()=>[u(L,{class:"p"},{default:i((()=>[p("span",{onClick:e[3]||(e[3]=(...a)=>b.goBack&&b.goBack(...a))},"返回搜索页")])),_:1}),u(L,{class:"list"},{default:i((()=>[o.loading?(r(),c(L,{key:0,class:"loading"},{default:i((()=>[f("正在努力加载中...")])),_:1})):h("",!0),o.info.id?(r(),c(L,{key:1,class:"item"},{default:i((()=>[u(L,{class:"name"},{default:i((()=>[f(g(o.info.title),1)])),_:1}),u(L,{class:"numbox"},{default:i((()=>[u(L,{class:"ke"},{default:i((()=>[f("夸克网盘")])),_:1}),u(L,{class:"num"},{default:i((()=>[f(g(o.info.times),1)])),_:1}),o.info.category&&o.info.category.name?(r(),c(L,{key:0,class:"cate"},{default:i((()=>[f(g(o.info.category.name),1)])),_:1})):h("",!0)])),_:1}),u(L,{class:"btns"},{default:i((()=>[u(L,{class:"btn",onClick:e[4]||(e[4]=a=>b.setClipboard(o.info.url))},{default:i((()=>[f("链接")])),_:1}),u(L,{class:"btn",onClick:e[5]||(e[5]=a=>b.goLink(o.info.url))},{default:i((()=>[f("跳转")])),_:1}),u(L,{class:"btn",onClick:e[6]||(e[6]=a=>b.goShare(o.info))},{default:i((()=>[f("分享")])),_:1})])),_:1})])),_:1})):h("",!0),o.loading||o.info.id?h("",!0):(r(),c(L,{key:2,class:"nodata"},{default:i((()=>[u(L,null,{default:i((()=>[f("未找到或不是短剧？请加入微信群获得更多资源")])),_:1}),u(w,{src:b.config.qcode,mode:"aspectFit"},null,8,["src"])])),_:1}))])),_:1})])),_:1})])),_:1}),u(j)])),_:1})}],["__scopeId","data-v-d622f63e"]]);export{V as default};
