import{o as e,c as n,w as t,p as i,q as s,f as a,m as o,u as l,v as c,a as d,b as u,t as f,g as r,h as p,F as _,j as h,x as g,y as m,i as x,s as y,n as k,r as w,d as v,e as S,k as b,l as I,I as P}from"./index-403326e2.js";import{_ as z,r as C,H as T,F as N,a as $}from"./footer.5ed73010.js";const L=[{font_class:"arrow-down",unicode:""},{font_class:"arrow-left",unicode:""},{font_class:"arrow-right",unicode:""},{font_class:"arrow-up",unicode:""},{font_class:"auth",unicode:""},{font_class:"auth-filled",unicode:""},{font_class:"back",unicode:""},{font_class:"bars",unicode:""},{font_class:"calendar",unicode:""},{font_class:"calendar-filled",unicode:""},{font_class:"camera",unicode:""},{font_class:"camera-filled",unicode:""},{font_class:"cart",unicode:""},{font_class:"cart-filled",unicode:""},{font_class:"chat",unicode:""},{font_class:"chat-filled",unicode:""},{font_class:"chatboxes",unicode:""},{font_class:"chatboxes-filled",unicode:""},{font_class:"chatbubble",unicode:""},{font_class:"chatbubble-filled",unicode:""},{font_class:"checkbox",unicode:""},{font_class:"checkbox-filled",unicode:""},{font_class:"checkmarkempty",unicode:""},{font_class:"circle",unicode:""},{font_class:"circle-filled",unicode:""},{font_class:"clear",unicode:""},{font_class:"close",unicode:""},{font_class:"closeempty",unicode:""},{font_class:"cloud-download",unicode:""},{font_class:"cloud-download-filled",unicode:""},{font_class:"cloud-upload",unicode:""},{font_class:"cloud-upload-filled",unicode:""},{font_class:"color",unicode:""},{font_class:"color-filled",unicode:""},{font_class:"compose",unicode:""},{font_class:"contact",unicode:""},{font_class:"contact-filled",unicode:""},{font_class:"down",unicode:""},{font_class:"bottom",unicode:""},{font_class:"download",unicode:""},{font_class:"download-filled",unicode:""},{font_class:"email",unicode:""},{font_class:"email-filled",unicode:""},{font_class:"eye",unicode:""},{font_class:"eye-filled",unicode:""},{font_class:"eye-slash",unicode:""},{font_class:"eye-slash-filled",unicode:""},{font_class:"fire",unicode:""},{font_class:"fire-filled",unicode:""},{font_class:"flag",unicode:""},{font_class:"flag-filled",unicode:""},{font_class:"folder-add",unicode:""},{font_class:"folder-add-filled",unicode:""},{font_class:"font",unicode:""},{font_class:"forward",unicode:""},{font_class:"gear",unicode:""},{font_class:"gear-filled",unicode:""},{font_class:"gift",unicode:""},{font_class:"gift-filled",unicode:""},{font_class:"hand-down",unicode:""},{font_class:"hand-down-filled",unicode:""},{font_class:"hand-up",unicode:""},{font_class:"hand-up-filled",unicode:""},{font_class:"headphones",unicode:""},{font_class:"heart",unicode:""},{font_class:"heart-filled",unicode:""},{font_class:"help",unicode:""},{font_class:"help-filled",unicode:""},{font_class:"home",unicode:""},{font_class:"home-filled",unicode:""},{font_class:"image",unicode:""},{font_class:"image-filled",unicode:""},{font_class:"images",unicode:""},{font_class:"images-filled",unicode:""},{font_class:"info",unicode:""},{font_class:"info-filled",unicode:""},{font_class:"left",unicode:""},{font_class:"link",unicode:""},{font_class:"list",unicode:""},{font_class:"location",unicode:""},{font_class:"location-filled",unicode:""},{font_class:"locked",unicode:""},{font_class:"locked-filled",unicode:""},{font_class:"loop",unicode:""},{font_class:"mail-open",unicode:""},{font_class:"mail-open-filled",unicode:""},{font_class:"map",unicode:""},{font_class:"map-filled",unicode:""},{font_class:"map-pin",unicode:""},{font_class:"map-pin-ellipse",unicode:""},{font_class:"medal",unicode:""},{font_class:"medal-filled",unicode:""},{font_class:"mic",unicode:""},{font_class:"mic-filled",unicode:""},{font_class:"micoff",unicode:""},{font_class:"micoff-filled",unicode:""},{font_class:"minus",unicode:""},{font_class:"minus-filled",unicode:""},{font_class:"more",unicode:""},{font_class:"more-filled",unicode:""},{font_class:"navigate",unicode:""},{font_class:"navigate-filled",unicode:""},{font_class:"notification",unicode:""},{font_class:"notification-filled",unicode:""},{font_class:"paperclip",unicode:""},{font_class:"paperplane",unicode:""},{font_class:"paperplane-filled",unicode:""},{font_class:"person",unicode:""},{font_class:"person-filled",unicode:""},{font_class:"personadd",unicode:""},{font_class:"personadd-filled",unicode:""},{font_class:"personadd-filled-copy",unicode:""},{font_class:"phone",unicode:""},{font_class:"phone-filled",unicode:""},{font_class:"plus",unicode:""},{font_class:"plus-filled",unicode:""},{font_class:"plusempty",unicode:""},{font_class:"pulldown",unicode:""},{font_class:"pyq",unicode:""},{font_class:"qq",unicode:""},{font_class:"redo",unicode:""},{font_class:"redo-filled",unicode:""},{font_class:"refresh",unicode:""},{font_class:"refresh-filled",unicode:""},{font_class:"refreshempty",unicode:""},{font_class:"reload",unicode:""},{font_class:"right",unicode:""},{font_class:"scan",unicode:""},{font_class:"search",unicode:""},{font_class:"settings",unicode:""},{font_class:"settings-filled",unicode:""},{font_class:"shop",unicode:""},{font_class:"shop-filled",unicode:""},{font_class:"smallcircle",unicode:""},{font_class:"smallcircle-filled",unicode:""},{font_class:"sound",unicode:""},{font_class:"sound-filled",unicode:""},{font_class:"spinner-cycle",unicode:""},{font_class:"staff",unicode:""},{font_class:"staff-filled",unicode:""},{font_class:"star",unicode:""},{font_class:"star-filled",unicode:""},{font_class:"starhalf",unicode:""},{font_class:"trash",unicode:""},{font_class:"trash-filled",unicode:""},{font_class:"tune",unicode:""},{font_class:"tune-filled",unicode:""},{font_class:"undo",unicode:""},{font_class:"undo-filled",unicode:""},{font_class:"up",unicode:""},{font_class:"top",unicode:""},{font_class:"upload",unicode:""},{font_class:"upload-filled",unicode:""},{font_class:"videocam",unicode:""},{font_class:"videocam-filled",unicode:""},{font_class:"vip",unicode:""},{font_class:"vip-filled",unicode:""},{font_class:"wallet",unicode:""},{font_class:"wallet-filled",unicode:""},{font_class:"weibo",unicode:""},{font_class:"weixin",unicode:""}];const V=z({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""},fontFamily:{type:String,default:""}},data:()=>({icons:L}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?e.unicode:""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e},styleObj(){return""!==this.fontFamily?`color: ${this.color}; font-size: ${this.iconSize}; font-family: ${this.fontFamily};`:`color: ${this.color}; font-size: ${this.iconSize};`}},methods:{_onClick(){this.$emit("click")}}},[["render",function(l,c,d,u,f,r){const p=o;return e(),n(p,{style:s(r.styleObj),class:a(["uni-icons",["uniui-"+d.type,d.customPrefix,d.customPrefix?d.type:""]]),onClick:r._onClick},{default:t((()=>[i(l.$slots,"default",{},void 0,!0)])),_:3},8,["style","class","onClick"])}],["__scopeId","data-v-5610c8db"]]),B={en:{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next","uni-pagination.piecePerPage":"piece/page"},es:{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"prxima","uni-pagination.piecePerPage":"Art��culo/P��gina"},fr:{"uni-pagination.prevText":"précédente","uni-pagination.nextText":"suivante","uni-pagination.piecePerPage":"Articles/Pages"},"zh-Hans":{"uni-pagination.prevText":"上一页","uni-pagination.nextText":"下一页","uni-pagination.piecePerPage":"条/页"},"zh-Hant":{"uni-pagination.prevText":"上一頁","uni-pagination.nextText":"下一頁","uni-pagination.piecePerPage":"條/頁"}},{t:F}=l(B);const R=z({name:"UniPagination",emits:["update:modelValue","input","change","pageSizeChange"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},piecePerPageText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},showPageSize:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7},pageSizeRange:{type:Array,default:()=>[20,50,100,500]}},data:()=>({pageSizeIndex:0,currentIndex:1,paperData:[],pickerShow:!1}),computed:{piecePerPage(){return this.piecePerPageText||F("uni-pagination.piecePerPage")},prevPageText(){return this.prevText||F("uni-pagination.prevText")},nextPageText(){return this.nextText||F("uni-pagination.nextText")},maxPage(){let e=1,n=Number(this.total),t=Number(this.pageSize);return n&&t&&(e=Math.ceil(n/t)),e},paper(){const e=this.currentIndex,n=this.pagerCount,t=this.total,i=this.pageSize;let s=[],a=[],o=Math.ceil(t/i);for(let c=0;c<o;c++)s.push(c+1);a.push(1);const l=s[s.length-(n+1)/2];return s.forEach(((t,i)=>{(n+1)/2>=e?t<n+1&&t>1&&a.push(t):e+2<=l?t>e-(n+1)/2&&t<e+(n+1)/2&&a.push(t):(t>e-(n+1)/2||o-n<t)&&t<s[s.length-1]&&a.push(t)})),o>n?((n+1)/2>=e?a[a.length-1]="...":e+2<=l?(a[1]="...",a[a.length-1]="..."):a[1]="...",a.push(s[s.length-1])):(n+1)/2>=e||e+2<=l||(a.shift(),a.push(s[s.length-1])),a}},watch:{current:{immediate:!0,handler(e,n){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}},pageSizeIndex(e){this.$emit("pageSizeChange",this.pageSizeRange[e])}},methods:{pickerChange(e){this.pageSizeIndex=e.detail.value,this.pickerClick()},pickerClick(){const e=document.querySelector("body");if(!e)return;const n="uni-pagination-picker-show";this.pickerShow=!this.pickerShow,this.pickerShow?e.classList.add(n):setTimeout((()=>e.classList.remove(n)),300)},selectPage(e,n){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(n<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(n>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}},[["render",function(i,s,l,y,k,w){const v=o,S=C(c("uni-icons"),V),b=g,I=m,P=x;return e(),n(P,{class:"uni-pagination"},{default:t((()=>[!0===l.showPageSize||"true"===l.showPageSize?(e(),n(I,{key:0,class:"select-picker",mode:"selector",value:k.pageSizeIndex,range:l.pageSizeRange,onChange:w.pickerChange,onCancel:w.pickerClick,onClick:w.pickerClick},{default:t((()=>[d(b,{type:"default",size:"mini",plain:!0},{default:t((()=>[d(v,null,{default:t((()=>[u(f(l.pageSizeRange[k.pageSizeIndex])+" "+f(w.piecePerPage),1)])),_:1}),d(S,{class:"select-picker-icon",type:"arrowdown",size:"12",color:"#999"})])),_:1})])),_:1},8,["value","range","onChange","onCancel","onClick"])):r("",!0),d(P,{class:"uni-pagination__total is-phone-hide"},{default:t((()=>[u("共 "+f(l.total)+" 条",1)])),_:1}),d(P,{class:a(["uni-pagination__btn",1===k.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":1===k.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:w.clickLeft},{default:t((()=>[!0===l.showIcon||"true"===l.showIcon?(e(),n(S,{key:0,color:"#666",size:"16",type:"left"})):(e(),n(v,{key:1,class:"uni-pagination__child-btn"},{default:t((()=>[u(f(w.prevPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"]),d(P,{class:"uni-pagination__num uni-pagination__num-flex-none"},{default:t((()=>[d(P,{class:"uni-pagination__num-current"},{default:t((()=>[d(v,{class:"uni-pagination__num-current-text is-pc-hide current-index-text"},{default:t((()=>[u(f(k.currentIndex),1)])),_:1}),d(v,{class:"uni-pagination__num-current-text is-pc-hide"},{default:t((()=>[u("/"+f(w.maxPage||0),1)])),_:1}),(e(!0),p(_,null,h(w.paper,((i,s)=>(e(),n(P,{key:s,class:a([{"page--active":i===k.currentIndex},"uni-pagination__num-tag tag--active is-phone-hide"]),onClick:e=>w.selectPage(i,s)},{default:t((()=>[d(v,null,{default:t((()=>[u(f(i),1)])),_:2},1024)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1}),d(P,{class:a(["uni-pagination__btn",k.currentIndex>=w.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":k.currentIndex===w.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:w.clickRight},{default:t((()=>[!0===l.showIcon||"true"===l.showIcon?(e(),n(S,{key:0,color:"#666",size:"16",type:"right"})):(e(),n(v,{key:1,class:"uni-pagination__child-btn"},{default:t((()=>[u(f(w.nextPageText),1)])),_:1}))])),_:1},8,["class","hover-class","onClick"])])),_:1})}],["__scopeId","data-v-bd0b20fd"]]);const O=z({components:{Header:T,Footer:N},data:()=>({keyword:"",title:"",list:[],page:1,page_size:20,total:0,loading:!1}),onLoad(e){e.keyword&&(this.keyword=decodeURIComponent(e.keyword),this.title=JSON.parse(JSON.stringify(this.keyword)),this.getList())},methods:{searchBtn(){if(!this.keyword)return y({title:"请输入关键字",icon:"none"});this.page=1,this.getList()},gpDetail(e){k({url:"/pages/index/detail?id="+e})},getList(){this.loading=!0,w({url:uni.$api+"api/search",data:{page_no:this.page,page_size:this.page_size,title:this.keyword},success:e=>{this.total=e.data.data.total_result||0,this.list=e.data.data.items||[],this.title=JSON.parse(JSON.stringify(this.keyword))},complete:()=>{this.loading=!1}})},change(e){window.scrollTo({top:0,left:0,behavior:"smooth"}),this.page=e.current,this.getList()}}},[["render",function(i,s,a,l,g,m){const y=b("Header"),k=I,w=o,z=x,T=P,N=C(c("uni-pagination"),R),L=b("Footer");return e(),n(z,{class:"view"},{default:t((()=>[d(y),d(z,{class:"homeBox"},{default:t((()=>[d(z,{class:"logoBox"},{default:t((()=>[d(k,{class:"logo",src:$}),d(w,{class:"title"},{default:t((()=>[u("心悦搜剧")])),_:1})])),_:1}),d(z,{class:"subTitle"},{default:t((()=>[u("免费分享百万级网盘资源，致力打造顶尖网盘搜索引擎，让您畅享资源无忧！")])),_:1}),d(z,{class:"search"},{default:t((()=>[v("i",{class:"iconfont icon-sousuo"}),d(T,{type:"text",modelValue:g.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>g.keyword=e),placeholder:"输入关键字进行搜索",onKeyup:S(m.searchBtn,["enter"]),"confirm-type":"search",onConfirm:m.searchBtn},null,8,["modelValue","onKeyup","onConfirm"])])),_:1}),d(z,{class:"content"},{default:t((()=>[d(z,{class:"p"},{default:t((()=>[u("为您提供"),v("span",null,f(g.title),1),u("搜索结果"),v("span",null,f(g.total),1),u("条")])),_:1}),d(z,{class:"list"},{default:t((()=>[g.loading?(e(),n(z,{key:0,class:"loading"},{default:t((()=>[u("正在努力加载中...")])),_:1})):r("",!0),(e(!0),p(_,null,h(g.list,((i,s)=>(e(),n(z,{class:"item",key:s,onClick:e=>m.gpDetail(i.id)},{default:t((()=>[d(z,{class:"name"},{default:t((()=>[u(f(i.title),1)])),_:2},1024),d(z,{class:"numbox"},{default:t((()=>[d(z,{class:"ke"},{default:t((()=>[u("夸克网盘")])),_:1}),d(z,{class:"num"},{default:t((()=>[u(f(i.times),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),g.loading||0!=g.list.length?r("",!0):(e(),n(z,{key:1,class:"nodata"},{default:t((()=>[u(" 暂无资源 ")])),_:1}))])),_:1}),d(N,{onChange:m.change,modelValue:g.page,"onUpdate:modelValue":s[1]||(s[1]=e=>g.page=e),total:g.total,pageSize:g.page_size},null,8,["onChange","modelValue","total","pageSize"])])),_:1})])),_:1}),d(L)])),_:1})}],["__scopeId","data-v-0c95432a"]]);export{O as default};
